<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Integrals & Derivatives - Materials</title>
    <link rel="shortcut icon" href="../assets/snake-icon.png" />
    <link rel="stylesheet" href="../styles/style.css">
    <link rel="stylesheet" href="../styles/materials.css">
    <link rel="stylesheet" href="../styles/nav.css">
	<link rel="stylesheet" href="../styles/header.css">
    <link rel="stylesheet" href="../styles/floating-box.css">
    <link href='https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css' rel='stylesheet'>
</head>
<body class="fade-in">
    <header>
        <div class="logo">
          <img src="../assets/menu-background.png" onclick="window.location.href='../../index.html'">
        </div>
    </header>
    <nav>
        <div class="nav-content">
        <div class="toggle-btn">
            <i class='bx bx-plus'></i>
        </div>
        <span style="--i:3;">
            <a onclick="window.location.href='profile.html'"><i class='bx bxs-user'></i></a>
        </span>
        <span style="--i:2;">
            <a onclick="window.location.href='../../index.html'"><i class='bx bxs-home'></i></a>
        </span>
        </div>
      </nav>

    <div class="materials-body">
        <div class="header-container">
                <img class="small-logo" src="../assets/Snakes-N-Ladders.png" alt="Snakes-N-Ladders">
                <h1>Learning Modules</h1>
                <button id="close-btn" class="btn btn-close" onclick="window.location.href='../../index.html'">X</button>
        </div>
        <div class="materials-container">
            <div class="title-container">
                <div class="progress-bar integral">
                    <h2><b id="progress-text-integral">0% Completed</b></h2>
                </div>
            </div>   
            <div class="video-container" >
                <div class="video-wrapper" onclick="window.location.href='integral.html'">
                    <h1>Integral</h1>
                    <!-- <iframe width="560" height="315" src="https://www.youtube.com/embed/__Uw1SXPW7s?si=nKMJrQTxYb_39Mmj" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe> -->
                </div>
            </div>
            <div class="title-container">
                <div class="progress-bar derivative">
                    <h2><b id="progress-text-derivative">0% Completed</b></h2>
                </div>
            </div> 
            <div class="video-container">
                <div class="video-wrapper" onclick="window.location.href='integral.html'">
                    <h1>Derivative</h1>
                    <!-- <iframe width="560" height="315" src="https://www.youtube.com/embed/N2PpRnFqnqY?si=4b7lOGhT4iLsyQjn" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe> -->
                </div>
            </div>
        </div>
    </div>
    <div class="box-wrapper">
        <div class="box">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>

    <script src="../interfaces/nav.js" defer></script>
    <script type="module" src="../api/auth.js" defer></script>

    <script type="module">
        import { auth } from "../api/config/firebaseConfig.js";
        import { displayUserProgress } from "../api/materials.js";
        import { onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.0.0/firebase-auth.js";
      
        // Check authentication status when profile page loads
        onAuthStateChanged(auth, (user) => {
          if (user) {
            displayUserProgress(); // Fetch and display user profile details if authenticated
          } else {
            console.log("User not logged in. Redirecting to login page.");
            window.location.href = "login.html"; // Redirect if no user is signed in
          }
        });
    </script> 
</body>
</html>